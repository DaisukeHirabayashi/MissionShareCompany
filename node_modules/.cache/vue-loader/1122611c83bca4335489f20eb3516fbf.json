{"remainingRequest":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/k17111kk/TechTrain/techTrain_mission/src/views/EditCompany.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/k17111kk/TechTrain/techTrain_mission/src/views/EditCompany.vue","mtime":1576736061566},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CmltcG9ydCBGb3JtIGZyb20gIi4uL2NvbXBvbmVudHMvRm9ybS52dWUiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBWdWVMb2FkaW5nIH0gZnJvbSAidnVlLWxvYWRpbmctdGVtcGxhdGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRm9ybSwKICAgIFZ1ZUxvYWRpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBwcmVmZWN0dXJlOiB0aGlzLiRzdG9yZS5zdGF0ZS5lZGl0Y29tcGFueS5wcmVmZWN0dXJlLAogICAgICBmb3JtRGF0YTogWwogICAgICAgIHsKICAgICAgICAgIGRpc3BsYXluYW1lOiAi5Lya56S+5ZCNIiwKICAgICAgICAgIGZvcm1UZXh0OiB0aGlzLiRzdG9yZS5zdGF0ZS5lZGl0Y29tcGFueS5uYW1lLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICJjb21wYW55bmFtZSIsCiAgICAgICAgICBydWxlczogW3YgPT4gISF2IHx8ICJDb21wYW55TmFtZSBpcyByZXF1aXJlZCJdCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBkaXNwbGF5bmFtZTogIuS9j+aJgCIsCiAgICAgICAgICBmb3JtVGV4dDogdGhpcy4kc3RvcmUuc3RhdGUuZWRpdGNvbXBhbnkuYWRkcmVzcywKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5biC55Wq5ZywIiwKICAgICAgICAgIHJ1bGVzOiBbdiA9PiAhIXYgfHwgIkFkZHJlc3MgaXMgcmVxdWlyZWQiXQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZGlzcGxheW5hbWU6ICLkvJrnpL5VUkwiLAogICAgICAgICAgZm9ybVRleHQ6IHRoaXMuJHN0b3JlLnN0YXRlLmVkaXRjb21wYW55LnVybCwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAidXJsIiwKICAgICAgICAgIHJ1bGVzOiBbCiAgICAgICAgICAgIHYgPT4gISF2IHx8ICJVUkwgaXMgcmVxdWlyZWQiLAogICAgICAgICAgICB2ID0+CiAgICAgICAgICAgICAgLyhodHRwcz98ZnRwKSg6XC9cL1stXy4hfipcJygpYS16QS1aMC05O1wvPzpcQCY9K1wkLCUjXSspLy50ZXN0KAogICAgICAgICAgICAgICAgdgogICAgICAgICAgICAgICkgfHwgIlVSTCBtdXN0IGJlIHZhbGlkIgogICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZGlzcGxheW5hbWU6ICLpm7voqbHnlarlj7ciLAogICAgICAgICAgZm9ybVRleHQ6IHRoaXMuJHN0b3JlLnN0YXRlLmVkaXRjb21wYW55LnBob25lbnVtYmVyLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICIwMDAtMDAwMC0wMDAwIiwKICAgICAgICAgIHJ1bGVzOiBbCiAgICAgICAgICAgIHYgPT4gISF2IHx8ICJQaG9uZU51bWJlciBpcyByZXF1aXJlZCIsCiAgICAgICAgICAgIHYgPT4gL1swLTldKy0rWzAtOV0rLStbMC05XSsvLnRlc3QodikgfHwgIlBob25lTnVtYmVyIG11c3QgYmUgdmFsaWQiCiAgICAgICAgICBdCiAgICAgICAgfQogICAgICBdLAogICAgICBwcmVmZWN0dXJlczogWwogICAgICAgICLljJfmtbfpgZMiLAogICAgICAgICLpnZLmo67nnIwiLAogICAgICAgICLlsqnmiYvnnIwiLAogICAgICAgICLlrq7ln47nnIwiLAogICAgICAgICLnp4vnlLDnnIwiLAogICAgICAgICLlsbHlvaLnnIwiLAogICAgICAgICLnpo/ls7bnnIwiLAogICAgICAgICLojKjln47nnIwiLAogICAgICAgICLmoIPmnKjnnIwiLAogICAgICAgICLnvqTppqznnIwiLAogICAgICAgICLln7znjonnnIwiLAogICAgICAgICLljYPokYnnnIwiLAogICAgICAgICLmnbHkuqzpg70iLAogICAgICAgICLnpZ7lpYjlt53nnIwiLAogICAgICAgICLmlrDmvZ/nnIwiLAogICAgICAgICLlr4zlsbHnnIwiLAogICAgICAgICLnn7Plt53nnIwiLAogICAgICAgICLnpo/kupXnnIwiLAogICAgICAgICLlsbHmoqjnnIwiLAogICAgICAgICLplbfph47nnIwiLAogICAgICAgICLlspDpmJznnIwiLAogICAgICAgICLpnZnlsqHnnIwiLAogICAgICAgICLmhJvnn6XnnIwiLAogICAgICAgICLkuInph43nnIwiLAogICAgICAgICLmu4vos4DnnIwiLAogICAgICAgICLkuqzpg73lupwiLAogICAgICAgICLlpKfpmKrlupwiLAogICAgICAgICLlhbXluqvnnIwiLAogICAgICAgICLlpYjoia/nnIwiLAogICAgICAgICLlkozmrYzlsbHnnIwiLAogICAgICAgICLps6Xlj5bnnIwiLAogICAgICAgICLls7bmoLnnnIwiLAogICAgICAgICLlsqHlsbHnnIwiLAogICAgICAgICLluoPls7bnnIwiLAogICAgICAgICLlsbHlj6PnnIwiLAogICAgICAgICLlvrPls7bnnIwiLAogICAgICAgICLpppnlt53nnIwiLAogICAgICAgICLmhJvlqpvnnIwiLAogICAgICAgICLpq5jnn6XnnIwiLAogICAgICAgICLnpo/lsqHnnIwiLAogICAgICAgICLkvZDos4DnnIwiLAogICAgICAgICLplbfltI7nnIwiLAogICAgICAgICLnhormnKznnIwiLAogICAgICAgICLlpKfliIbnnIwiLAogICAgICAgICLlrq7ltI7nnIwiLAogICAgICAgICLpub/lhZDls7bnnIwiLAogICAgICAgICLmspbnuITnnIwiCiAgICAgIF0sCiAgICAgIHVzZXI6IHt9IC8vIOODpuODvOOCtuODvOaDheWgsQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LCAxMDAwKTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKHVzZXIgPT4gewogICAgICB0aGlzLnVzZXIgPSB1c2VyID8gdXNlciA6IHt9OwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBlZGl0Y29tcGFueTogImVkaXRjb21wYW55IgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvU2VuZChrZXksIHR5cGUpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMuZm9ybURhdGFbMF0uZm9ybVRleHQubGVuZ3RoICYmCiAgICAgICAgIXRoaXMucHJlZmVjdHVyZSA9PSAiIiAmJgogICAgICAgIHRoaXMuZm9ybURhdGFbMV0uZm9ybVRleHQubGVuZ3RoICYmCiAgICAgICAgdGhpcy5mb3JtRGF0YVsyXS5mb3JtVGV4dC5sZW5ndGggJiYKICAgICAgICB0aGlzLmZvcm1EYXRhWzNdLmZvcm1UZXh0Lmxlbmd0aAogICAgICApIHsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLmRhdGFiYXNlKCkKICAgICAgICAgIC5yZWYodHlwZSkKICAgICAgICAgIC5jaGlsZChrZXkpCiAgICAgICAgICAudXBkYXRlKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbmFtZTogdGhpcy5mb3JtRGF0YVswXS5mb3JtVGV4dCwKICAgICAgICAgICAgICBwcmVmZWN0dXJlOiB0aGlzLnByZWZlY3R1cmUsCiAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5wcmVmZWN0dXJlICsgdGhpcy5mb3JtRGF0YVsxXS5mb3JtVGV4dCwKICAgICAgICAgICAgICB1cmw6IHRoaXMuZm9ybURhdGFbMl0uZm9ybVRleHQsCiAgICAgICAgICAgICAgcGhvbmVudW1iZXI6IHRoaXMuZm9ybURhdGFbM10uZm9ybVRleHQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgKCkgPT4gewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi4vIjsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YVswXS5mb3JtVGV4dC5sZW5ndGgpIHsKICAgICAgICBhbGVydCgi5Lya56S+5ZCN44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmVmZWN0dXJlID09ICIiKSB7CiAgICAgICAgYWxlcnQoIumDvemBk+W6nOecjOOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhWzFdLmZvcm1UZXh0Lmxlbmd0aCkgewogICAgICAgIGFsZXJ0KCLkvY/miYDjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQiKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YVsyXS5mb3JtVGV4dC5sZW5ndGgpIHsKICAgICAgICBhbGVydCgiVVJM44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIumbu+ipseeVquWPt+OCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["EditCompany.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditCompany.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"subregister\">\n    <template v-if=\"this.loading\">\n      <vue-loading\n        type=\"balls\"\n        color=\"#333\"\n        :size=\"{ width: '50px', height: '50px' }\"\n      ></vue-loading>\n    </template>\n    <template v-else>\n      <v-container class=\"mx-auto text-left p-3\">\n        <h1>会社編集ページ</h1>\n        <h2>編集の会社:{{ editcompany.name }}</h2>\n        <Form :formData=\"formData[0]\" />\n        <form class=\"p-3\">\n          <v-card-title>都道府県</v-card-title>\n          <v-select\n            name=\"pref_name\"\n            v-model=\"prefecture\"\n            :items=\"prefectures\"\n            label=\"Prefecture\"\n            :rules=\"[v => !!v || 'Item is required']\"\n            required\n          >\n          </v-select>\n        </form>\n        <Form :formData=\"formData[1]\" />\n        <Form :formData=\"formData[2]\" />\n        <Form :formData=\"formData[3]\" />\n        <v-btn\n          type=\"button\"\n          name=\"button\"\n          @click=\"doSend(editcompany.key, editcompany.type)\"\n          >send</v-btn\n        >\n      </v-container>\n    </template>\n  </div>\n</template>\n<script>\nimport firebase from \"firebase\";\nimport Form from \"../components/Form.vue\";\nimport { mapState } from \"vuex\";\nimport { VueLoading } from \"vue-loading-template\";\nexport default {\n  components: {\n    Form,\n    VueLoading\n  },\n  data() {\n    return {\n      loading: true,\n      prefecture: this.$store.state.editcompany.prefecture,\n      formData: [\n        {\n          displayname: \"会社名\",\n          formText: this.$store.state.editcompany.name,\n          placeholder: \"companyname\",\n          rules: [v => !!v || \"CompanyName is required\"]\n        },\n        {\n          displayname: \"住所\",\n          formText: this.$store.state.editcompany.address,\n          placeholder: \"市番地\",\n          rules: [v => !!v || \"Address is required\"]\n        },\n        {\n          displayname: \"会社URL\",\n          formText: this.$store.state.editcompany.url,\n          placeholder: \"url\",\n          rules: [\n            v => !!v || \"URL is required\",\n            v =>\n              /(https?|ftp)(:\\/\\/[-_.!~*\\'()a-zA-Z0-9;\\/?:\\@&=+\\$,%#]+)/.test(\n                v\n              ) || \"URL must be valid\"\n          ]\n        },\n        {\n          displayname: \"電話番号\",\n          formText: this.$store.state.editcompany.phonenumber,\n          placeholder: \"000-0000-0000\",\n          rules: [\n            v => !!v || \"PhoneNumber is required\",\n            v => /[0-9]+-+[0-9]+-+[0-9]+/.test(v) || \"PhoneNumber must be valid\"\n          ]\n        }\n      ],\n      prefectures: [\n        \"北海道\",\n        \"青森県\",\n        \"岩手県\",\n        \"宮城県\",\n        \"秋田県\",\n        \"山形県\",\n        \"福島県\",\n        \"茨城県\",\n        \"栃木県\",\n        \"群馬県\",\n        \"埼玉県\",\n        \"千葉県\",\n        \"東京都\",\n        \"神奈川県\",\n        \"新潟県\",\n        \"富山県\",\n        \"石川県\",\n        \"福井県\",\n        \"山梨県\",\n        \"長野県\",\n        \"岐阜県\",\n        \"静岡県\",\n        \"愛知県\",\n        \"三重県\",\n        \"滋賀県\",\n        \"京都府\",\n        \"大阪府\",\n        \"兵庫県\",\n        \"奈良県\",\n        \"和歌山県\",\n        \"鳥取県\",\n        \"島根県\",\n        \"岡山県\",\n        \"広島県\",\n        \"山口県\",\n        \"徳島県\",\n        \"香川県\",\n        \"愛媛県\",\n        \"高知県\",\n        \"福岡県\",\n        \"佐賀県\",\n        \"長崎県\",\n        \"熊本県\",\n        \"大分県\",\n        \"宮崎県\",\n        \"鹿児島県\",\n        \"沖縄県\"\n      ],\n      user: {} // ユーザー情報\n    };\n  },\n  mounted() {\n    setTimeout(() => {\n      this.loading = false;\n    }, 1000);\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.user = user ? user : {};\n    });\n  },\n  computed: {\n    ...mapState({\n      editcompany: \"editcompany\"\n    })\n  },\n  methods: {\n    doSend(key, type) {\n      if (\n        this.formData[0].formText.length &&\n        !this.prefecture == \"\" &&\n        this.formData[1].formText.length &&\n        this.formData[2].formText.length &&\n        this.formData[3].formText.length\n      ) {\n        firebase\n          .database()\n          .ref(type)\n          .child(key)\n          .update(\n            {\n              name: this.formData[0].formText,\n              prefecture: this.prefecture,\n              address: this.prefecture + this.formData[1].formText,\n              url: this.formData[2].formText,\n              phonenumber: this.formData[3].formText\n            },\n            () => {\n              window.location.href = \"./\";\n            }\n          );\n      } else if (!this.formData[0].formText.length) {\n        alert(\"会社名を入力してください\");\n      } else if (this.prefecture == \"\") {\n        alert(\"都道府県を入力してください\");\n      } else if (!this.formData[1].formText.length) {\n        alert(\"住所を入力してください\");\n      } else if (!this.formData[2].formText.length) {\n        alert(\"URLを入力してください\");\n      } else {\n        alert(\"電話番号を入力してください\");\n      }\n    }\n  }\n};\n</script>\n"]}]}