{"remainingRequest":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/k17111kk/TechTrain/techTrain_mission/src/views/SubRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/k17111kk/TechTrain/techTrain_mission/src/views/SubRegister.vue","mtime":1573708404876},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CmltcG9ydCBGb3JtIGZyb20gIi4uL2NvbXBvbmVudHMvRm9ybS52dWUiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRm9ybQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByZWZlY3R1cmU6ICIiLAogICAgICBmb3JtRGF0YTogWwogICAgICAgIHsKICAgICAgICAgIGRpc3BsYXluYW1lOiAi5Lya56S+5ZCNIiwKICAgICAgICAgIGZvcm1UZXh0OiAiIiwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAiY29tcGFueW5hbWUiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBkaXNwbGF5bmFtZTogIuS9j+aJgCIsCiAgICAgICAgICBmb3JtVGV4dDogIiIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuW4gueVquWcsCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGRpc3BsYXluYW1lOiAi5Lya56S+VVJMIiwKICAgICAgICAgIGZvcm1UZXh0OiAiIiwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAidXJsIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZGlzcGxheW5hbWU6ICLpm7voqbHnlarlj7ciLAogICAgICAgICAgZm9ybVRleHQ6ICIiLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICIwMDAtMDAwMCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIHVzZXI6IHt9IC8vIOODpuODvOOCtuODvOaDheWgsQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKHVzZXIgPT4gewogICAgICB0aGlzLnVzZXIgPSB1c2VyID8gdXNlciA6IHt9OwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBtYWluY29tcGFueWtleTogIm1haW5jb21wYW55a2V5IgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvU2VuZChrZXkpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMuZm9ybURhdGFbMF0uZm9ybVRleHQubGVuZ3RoICYmCiAgICAgICAgIXRoaXMucHJlZmVjdHVyZSA9PSAiIiAmJgogICAgICAgIHRoaXMuZm9ybURhdGFbMV0uZm9ybVRleHQubGVuZ3RoICYmCiAgICAgICAgdGhpcy5mb3JtRGF0YVsyXS5mb3JtVGV4dC5sZW5ndGggJiYKICAgICAgICB0aGlzLmZvcm1EYXRhWzNdLmZvcm1UZXh0Lmxlbmd0aAogICAgICApIHsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLmRhdGFiYXNlKCkKICAgICAgICAgIC5yZWYoInN1Yi1jb21wYW55IikKICAgICAgICAgIC5wdXNoKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbmFtZTogdGhpcy5mb3JtRGF0YVswXS5mb3JtVGV4dCwKICAgICAgICAgICAgICBwcmVmZWN0dXJlOiB0aGlzLnByZWZlY3R1cmUsCiAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5wcmVmZWN0dXJlICsgdGhpcy5mb3JtRGF0YVsxXS5mb3JtVGV4dCwKICAgICAgICAgICAgICB1cmw6IHRoaXMuZm9ybURhdGFbMl0uZm9ybVRleHQsCiAgICAgICAgICAgICAgcGhvbmVudW1iZXI6IHRoaXMuZm9ybURhdGFbM10uZm9ybVRleHQsCiAgICAgICAgICAgICAgbWFpbl9jb21faWQ6IGtleSwKICAgICAgICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXIudWlkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIuLyI7CiAgICAgICAgICAgIH0KICAgICAgICAgICk7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybURhdGFbMF0uZm9ybVRleHQubGVuZ3RoKSB7CiAgICAgICAgYWxlcnQoIuS8muekvuWQjeOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMucHJlZmVjdHVyZSA9PSAiIikgewogICAgICAgIGFsZXJ0KCLpg73pgZPlupznnIzjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQiKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YVsxXS5mb3JtVGV4dC5sZW5ndGgpIHsKICAgICAgICBhbGVydCgi5L2P5omA44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEIik7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybURhdGFbMl0uZm9ybVRleHQubGVuZ3RoKSB7CiAgICAgICAgYWxlcnQoIlVSTOOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCLpm7voqbHnlarlj7fjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQiKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["SubRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SubRegister.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"subregister\">\n    <h1>支社登録ページ</h1>\n    <h2>本社:{{ maincompanykey.name }}</h2>\n    <Form :formData=\"formData[0]\" />\n    <h2>場所</h2>\n    <select name=\"pref_name\" v-model=\"prefecture\">\n      <option value=\"\" selected>都道府県</option>\n      <option value=\"北海道\">北海道</option>\n      <option value=\"青森県\">青森県</option>\n      <option value=\"岩手県\">岩手県</option>\n      <option value=\"宮城県\">宮城県</option>\n      <option value=\"秋田県\">秋田県</option>\n      <option value=\"山形県\">山形県</option>\n      <option value=\"福島県\">福島県</option>\n      <option value=\"茨城県\">茨城県</option>\n      <option value=\"栃木県\">栃木県</option>\n      <option value=\"群馬県\">群馬県</option>\n      <option value=\"埼玉県\">埼玉県</option>\n      <option value=\"千葉県\">千葉県</option>\n      <option value=\"東京都\">東京都</option>\n      <option value=\"神奈川県\">神奈川県</option>\n      <option value=\"新潟県\">新潟県</option>\n      <option value=\"富山県\">富山県</option>\n      <option value=\"石川県\">石川県</option>\n      <option value=\"福井県\">福井県</option>\n      <option value=\"山梨県\">山梨県</option>\n      <option value=\"長野県\">長野県</option>\n      <option value=\"岐阜県\">岐阜県</option>\n      <option value=\"静岡県\">静岡県</option>\n      <option value=\"愛知県\">愛知県</option>\n      <option value=\"三重県\">三重県</option>\n      <option value=\"滋賀県\">滋賀県</option>\n      <option value=\"京都府\">京都府</option>\n      <option value=\"大阪府\">大阪府</option>\n      <option value=\"兵庫県\">兵庫県</option>\n      <option value=\"奈良県\">奈良県</option>\n      <option value=\"和歌山県\">和歌山県</option>\n      <option value=\"鳥取県\">鳥取県</option>\n      <option value=\"島根県\">島根県</option>\n      <option value=\"岡山県\">岡山県</option>\n      <option value=\"広島県\">広島県</option>\n      <option value=\"山口県\">山口県</option>\n      <option value=\"徳島県\">徳島県</option>\n      <option value=\"香川県\">香川県</option>\n      <option value=\"愛媛県\">愛媛県</option>\n      <option value=\"高知県\">高知県</option>\n      <option value=\"福岡県\">福岡県</option>\n      <option value=\"佐賀県\">佐賀県</option>\n      <option value=\"長崎県\">長崎県</option>\n      <option value=\"熊本県\">熊本県</option>\n      <option value=\"大分県\">大分県</option>\n      <option value=\"宮崎県\">宮崎県</option>\n      <option value=\"鹿児島県\">鹿児島県</option>\n      <option value=\"沖縄県\">沖縄県</option> </select\n    ><br />\n    <Form :formData=\"formData[1]\" />\n    <Form :formData=\"formData[2]\" />\n    <Form :formData=\"formData[3]\" />\n    <button type=\"button\" name=\"button\" @click=\"doSend(maincompanykey.key)\">\n      send\n    </button>\n  </div>\n</template>\n<script>\nimport firebase from \"firebase\";\nimport Form from \"../components/Form.vue\";\nimport { mapState } from \"vuex\";\nexport default {\n  components: {\n    Form\n  },\n  data() {\n    return {\n      prefecture: \"\",\n      formData: [\n        {\n          displayname: \"会社名\",\n          formText: \"\",\n          placeholder: \"companyname\"\n        },\n        {\n          displayname: \"住所\",\n          formText: \"\",\n          placeholder: \"市番地\"\n        },\n        {\n          displayname: \"会社URL\",\n          formText: \"\",\n          placeholder: \"url\"\n        },\n        {\n          displayname: \"電話番号\",\n          formText: \"\",\n          placeholder: \"000-0000\"\n        }\n      ],\n      user: {} // ユーザー情報\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.user = user ? user : {};\n    });\n  },\n  computed: {\n    ...mapState({\n      maincompanykey: \"maincompanykey\"\n    })\n  },\n  methods: {\n    doSend(key) {\n      if (\n        this.formData[0].formText.length &&\n        !this.prefecture == \"\" &&\n        this.formData[1].formText.length &&\n        this.formData[2].formText.length &&\n        this.formData[3].formText.length\n      ) {\n        firebase\n          .database()\n          .ref(\"sub-company\")\n          .push(\n            {\n              name: this.formData[0].formText,\n              prefecture: this.prefecture,\n              address: this.prefecture + this.formData[1].formText,\n              url: this.formData[2].formText,\n              phonenumber: this.formData[3].formText,\n              main_com_id: key,\n              user_id: this.user.uid\n            },\n            () => {\n              window.location.href = \"./\";\n            }\n          );\n      } else if (!this.formData[0].formText.length) {\n        alert(\"会社名を入力してください\");\n      } else if (this.prefecture == \"\") {\n        alert(\"都道府県を入力してください\");\n      } else if (!this.formData[1].formText.length) {\n        alert(\"住所を入力してください\");\n      } else if (!this.formData[2].formText.length) {\n        alert(\"URLを入力してください\");\n      } else {\n        alert(\"電話番号を入力してください\");\n      }\n    }\n  }\n};\n</script>\n"]}]}