{"remainingRequest":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/babel-loader/lib/index.js!/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vuetify-loader/lib/loader.js!/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/k17111kk/TechTrain/techTrain_mission/src/views/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/k17111kk/TechTrain/techTrain_mission/src/views/Detail.vue","mtime":1576038441210},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17111kk/TechTrain/techTrain_mission/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZXZlcnNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9rMTcxMTFray9UZWNoVHJhaW4vdGVjaFRyYWluX21pc3Npb24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgTmwyYnIgZnJvbSAidnVlLW5sMmJyIjsKaW1wb3J0IHsgVnVlTG9hZGluZyB9IGZyb20gInZ1ZS1sb2FkaW5nLXRlbXBsYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE5sMmJyOiBObDJiciwKICAgIFZ1ZUxvYWRpbmc6IFZ1ZUxvYWRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgLy8g44Om44O844K244O85oOF5aCxCiAgICAgIGNoYXQ6IFtdLAogICAgICAvLyDlj5blvpfjgZfjgZ/jg6Hjg4Pjgrvjg7zjgrjjgpLlhaXjgozjgovphY3liJcKICAgICAgcmF0aW5nVXNlcjogW3sKICAgICAgICBrZXk6ICIiLAogICAgICAgIGFuc3dlcjogIiIsCiAgICAgICAgbmFtZTogIiIKICAgICAgfV0sCiAgICAgIHJhdGluZ3M6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBpbnB1dDogIiIsCiAgICAgIC8vIOWFpeWKm+OBl+OBn+ODoeODg+OCu+ODvOOCuAogICAgICByYXRpbmc6IDMsCiAgICAgIGFuc3dlcjogIiIsCiAgICAgIGNvbXBhbnlEYXRhOiBbXSwKICAgICAgb25lQ29tcGFueTogW10sCiAgICAgIGNvbXBhbnlrZXk6IHRoaXMuJHN0b3JlLnN0YXRlLmNvbXBhbnkua2V5CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikgewogICAgICBfdGhpcy51c2VyID0gdXNlciA/IHVzZXIgOiB7fTsKICAgICAgX3RoaXMuY2hhdCA9IFtdOwogICAgICBfdGhpcy5yYXRpbmdzID0gW107CiAgICAgIHZhciByZWZfbWVzc2FnZSA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJjb21tZW50LyIgKyBfdGhpcy4kc3RvcmUuc3RhdGUuY29tcGFueS5rZXkpOwogICAgICB2YXIgcmVmX3JhdGluZ3NfdXNlciA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJyYXRpbmdzLyIgKyBfdGhpcy4kc3RvcmUuc3RhdGUuY29tcGFueS5rZXkgKyAiLyIgKyBfdGhpcy51c2VyLnVpZCk7CiAgICAgIHZhciByZWZfcmF0aW5nX2NvbXBhbnkgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihfdGhpcy4kc3RvcmUuc3RhdGUuY29tcGFueS5zZWxlY3QpOwogICAgICByZWZfbWVzc2FnZS5saW1pdFRvTGFzdCgxMDApLm9uKCJjaGlsZF9hZGRlZCIsIF90aGlzLmNoaWxkQWRkZWQpOwogICAgICByZWZfcmF0aW5nc191c2VyLmxpbWl0VG9MYXN0KDEwMCkub24oImNoaWxkX2FkZGVkIiwgX3RoaXMuY2hpbGRSYXRpbmdVc2VyQWRkZWQpOwogICAgICByZWZfcmF0aW5nX2NvbXBhbnkubGltaXRUb0xhc3QoMTAwKS5vbigiY2hpbGRfYWRkZWQiLCBfdGhpcy5jaGlsZENvbXBhbnlBZGRlZCk7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sIDEwMDApOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGNvbXBhbnk6ICJjb21wYW55IgogIH0pLCB7CiAgICByZXZlcnNlQ2hhdHM6IGZ1bmN0aW9uIHJldmVyc2VDaGF0cygpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hhdC5zbGljZSgpLnJldmVyc2UoKTsKICAgIH0sCiAgICBhdmVyYWdlUmF0ZTogZnVuY3Rpb24gYXZlcmFnZVJhdGUoKSB7CiAgICAgIHZhciBzdW0gPSAwOwoKICAgICAgaWYgKHRoaXMuY2hhdC5sZW5ndGggPD0gMCkgewogICAgICAgIHJldHVybiAzOwogICAgICB9CgogICAgICB0aGlzLmNoYXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBzdW0gPSBzdW0gKyB2YWx1ZS5yYXRpbmdzOwogICAgICB9KTsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoc3VtIC8gdGhpcy5jaGF0Lmxlbmd0aCk7CiAgICB9LAogICAgbWFueUFuc3dlcjogZnVuY3Rpb24gbWFueUFuc3dlcigpIHsKICAgICAgdmFyIGNvbXBhbnlrZXkgPSB0aGlzLmNvbXBhbnlrZXk7CiAgICAgIHZhciB2b3RlaXRlbXMgPSBbewogICAgICAgIHllczogMCwKICAgICAgICBubzogMCwKICAgICAgICB0ZXh0OiAiIiwKICAgICAgICByYXRlS2V5OiAiIgogICAgICB9XTsKCiAgICAgIGlmICh0aGlzLmNvbXBhbnlEYXRhID09IG51bGwpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbXBhbnlEYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBpZiAodmFsdWUueWVzID09IG51bGwpIHt9IGVsc2UgaWYgKGNvbXBhbnlrZXkgPT0gdmFsdWUua2V5KSB7CiAgICAgICAgICAgIHZvdGVpdGVtc1swXS55ZXMgPSB2YWx1ZS55ZXM7CiAgICAgICAgICAgIHZvdGVpdGVtc1swXS5ubyA9IHZhbHVlLm5vOwogICAgICAgICAgICB2b3RlaXRlbXNbMF0ucmF0ZUtleSA9IHZhbHVlLmtleTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKHZvdGVpdGVtc1swXS55ZXMgPT0gMCAmJiB2b3RlaXRlbXNbMF0ubm8gPT0gMCkgewogICAgICAgICAgdm90ZWl0ZW1zWzBdLnRleHQgPSAi44G+44Gg5oqV56Wo44GV44KM44Gm44GE44G+44Gb44KTIjsKICAgICAgICAgIHJldHVybiB2b3RlaXRlbXM7CiAgICAgICAgfQoKICAgICAgICBpZiAodm90ZWl0ZW1zWzBdLnllcyA+IHZvdGVpdGVtc1swXS5ubykgewogICAgICAgICAgdm90ZWl0ZW1zWzBdLnRleHQgPSAi44GT44Gu5Zyw5pa544Gn5YON44GR44KL5Y+v6IO95oCn44GM6auY44GE44Gn44GZIjsKICAgICAgICAgIHJldHVybiB2b3RlaXRlbXM7CiAgICAgICAgfQoKICAgICAgICB2b3RlaXRlbXNbMF0udGV4dCA9ICLjgZPjga7lnLDmlrnjgafjga/lg43jgZHjgarjgYTlj6/og73mgKfjgYzpq5jjgYTjgafjgZkiOwogICAgICAgIHJldHVybiB2b3RlaXRlbXM7CiAgICAgIH0KICAgIH0sCiAgICB0b2RheTogZnVuY3Rpb24gdG9kYXkoKSB7CiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiB0b2RheS5nZXRGdWxsWWVhcigpICsgIi0iICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKSArICItIiArIHRvZGF5LmdldERhdGUoKTsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBjaGlsZEFkZGVkOiBmdW5jdGlvbiBjaGlsZEFkZGVkKHNuYXApIHsKICAgICAgdmFyIG1lc3NhZ2UgPSBzbmFwLnZhbCgpOwogICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAga2V5OiBzbmFwLmtleSwKICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsCiAgICAgICAgaW1hZ2U6IG1lc3NhZ2UuaW1hZ2UsCiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5tZXNzYWdlLAogICAgICAgIGNvbXBhbnlrZXk6IG1lc3NhZ2UuY29tcGFueWtleSwKICAgICAgICByYXRpbmdzOiBtZXNzYWdlLnJhdGluZ3MsCiAgICAgICAgc3VibWl0RGF5OiBtZXNzYWdlLnN1Ym1pdERheQogICAgICB9KTsKICAgIH0sCiAgICBjaGlsZFJhdGluZ1VzZXJBZGRlZDogZnVuY3Rpb24gY2hpbGRSYXRpbmdVc2VyQWRkZWQoc25hcCkgewogICAgICB2YXIgcmF0ZXMgPSBzbmFwLnZhbCgpOwogICAgICB0aGlzLnJhdGluZ1VzZXIgPSBbewogICAgICAgIGtleTogc25hcC5rZXksCiAgICAgICAgYW5zd2VyOiByYXRlcy5hbnN3ZXIsCiAgICAgICAgbmFtZTogcmF0ZXMubmFtZQogICAgICB9XTsKICAgIH0sCiAgICBjaGlsZENvbXBhbnlBZGRlZDogZnVuY3Rpb24gY2hpbGRDb21wYW55QWRkZWQoc25hcCkgewogICAgICB2YXIgY29tcGFueSA9IHNuYXAudmFsKCk7CiAgICAgIHRoaXMuY29tcGFueURhdGEucHVzaCh7CiAgICAgICAga2V5OiBzbmFwLmtleSwKICAgICAgICB5ZXM6IGNvbXBhbnkueWVzLAogICAgICAgIG5vOiBjb21wYW55Lm5vCiAgICAgIH0pOwogICAgfSwKICAgIGRvU2VuZDogZnVuY3Rpb24gZG9TZW5kKHNlbmRrZXkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c2VyLnVpZCAmJiB0aGlzLmlucHV0Lmxlbmd0aCkgewogICAgICAgIC8vIGZpcmViYXNlIOOBq+ODoeODg+OCu+ODvOOCuOOCkui/veWKoAogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJjb21tZW50LyIgKyBzZW5ka2V5KS5wdXNoKHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuaW5wdXQsCiAgICAgICAgICBuYW1lOiB0aGlzLnVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICBpbWFnZTogdGhpcy51c2VyLnBob3RvVVJMLAogICAgICAgICAgY29tcGFueWtleTogc2VuZGtleSwKICAgICAgICAgIHJhdGluZ3M6IHRoaXMucmF0aW5nLAogICAgICAgICAgdXNlcjogdGhpcy51c2VyLnVpZCwKICAgICAgICAgIHN1Ym1pdERheTogdGhpcy50b2RheQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5pbnB1dCA9ICIiOyAvLyDjg5Xjgqnjg7zjg6DjgpLnqbrjgavjgZnjgosKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHZvdGluZzogZnVuY3Rpb24gdm90aW5nKHN0ciwgc2VuZGtleSwgc2VsZWN0KSB7CiAgICAgIHRoaXMuYW5zd2VyID0gc3RyOwogICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigicmF0aW5ncy8iICsgc2VuZGtleSArICIvIiArIHRoaXMudXNlci51aWQpLnB1c2goewogICAgICAgIGFuc3dlcjogdGhpcy5hbnN3ZXIsCiAgICAgICAgbmFtZTogdGhpcy51c2VyLmRpc3BsYXlOYW1lCiAgICAgIH0pOwoKICAgICAgaWYgKHN0ciA9PSAieWVzIikgewogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHNlbGVjdCkuY2hpbGQoc2VuZGtleSkudXBkYXRlKHsKICAgICAgICAgIHllczogdGhpcy5tYW55QW5zd2VyWzBdLnllcyArIDEKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihzZWxlY3QpLmNoaWxkKHNlbmRrZXkpLnVwZGF0ZSh7CiAgICAgICAgICBubzogdGhpcy5tYW55QW5zd2VyWzBdLm5vICsgMQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcmVmX3JhdGluZ19jb21wYW55ID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoc2VsZWN0KTsKICAgICAgcmVmX3JhdGluZ19jb21wYW55LmxpbWl0VG9MYXN0KDEwMCkub24oImNoaWxkX2FkZGVkIiwgdGhpcy5jaGlsZENvbXBhbnlBZGRlZCk7CiAgICAgIHRoaXMucmF0aW5nVXNlclswXS5hbnN3ZXIgPSBzdHI7CiAgICB9LAogICAgdXBkYXRlVm90aW5nOiBmdW5jdGlvbiB1cGRhdGVWb3Rpbmcoc3RyLCBjb21wYW55a2V5LCBrZXksIHNlbGVjdCkgewogICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigicmF0aW5ncy8iICsgY29tcGFueWtleSArICIvIiArIHRoaXMudXNlci51aWQpLmNoaWxkKGtleSkudXBkYXRlKHsKICAgICAgICBhbnN3ZXI6IHN0cgogICAgICB9KTsKCiAgICAgIGlmIChzdHIgPT0gInllcyIpIHsKICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihzZWxlY3QpLmNoaWxkKHRoaXMubWFueUFuc3dlclswXS5yYXRlS2V5KS51cGRhdGUoewogICAgICAgICAgeWVzOiB0aGlzLm1hbnlBbnN3ZXJbMF0ueWVzICsgMSwKICAgICAgICAgIG5vOiB0aGlzLm1hbnlBbnN3ZXJbMF0ubm8gLSAxCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoc2VsZWN0KS5jaGlsZCh0aGlzLm1hbnlBbnN3ZXJbMF0ucmF0ZUtleSkudXBkYXRlKHsKICAgICAgICAgIHllczogdGhpcy5tYW55QW5zd2VyWzBdLnllcyAtIDEsCiAgICAgICAgICBubzogdGhpcy5tYW55QW5zd2VyWzBdLm5vICsgMQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcmVmX3JhdGluZ19jb21wYW55ID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoc2VsZWN0KTsKICAgICAgcmVmX3JhdGluZ19jb21wYW55LmxpbWl0VG9MYXN0KDEwMCkub24oImNoaWxkX2FkZGVkIiwgdGhpcy5jaGlsZENvbXBhbnlBZGRlZCk7CiAgICAgIHRoaXMucmF0aW5nVXNlclswXS5hbnN3ZXIgPSBzdHI7CiAgICB9LAogICAgbW92ZVVybDogZnVuY3Rpb24gbW92ZVVybCh1cmwpIHsKICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <div class=\"detail\">\n      <template v-if=\"this.loading\">\n        <vue-loading\n          type=\"balls\"\n          color=\"#333\"\n          :size=\"{ width: '50px', height: '50px' }\"\n        ></vue-loading>\n      </template>\n      <template v-else>\n        <v-container class=\"mx-auto text-left p-3 \">\n          <h1>{{ company.name }}</h1>\n          <v-list>\n            <v-subheader\n              >DETAILS<span v-for=\"key in this.averageRate\">\n                <v-icon small color=\"yellow\">star</v-icon> </span\n              ><template v-if=\"this.chat.length > 0\"\n                >({{ this.chat.length }})</template\n              ></v-subheader\n            >\n            <v-layout wrap class=\"ml-4\">\n              <v-list-item-icon>\n                <v-icon class=\"headline\">mdi-domain</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title\n                  class=\"headline\"\n                  v-text=\"company.name\"\n                ></v-list-item-title>\n              </v-list-item-content>\n            </v-layout>\n            <v-layout wrap class=\"ml-4\">\n              <v-list-item-icon>\n                <v-icon>public</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title\n                  v-text=\"company.prefecture\"\n                ></v-list-item-title>\n              </v-list-item-content>\n            </v-layout>\n            <v-layout wrap class=\"ml-4\">\n              <v-list-item-icon>\n                <v-icon>mdi-home</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title v-text=\"company.address\"></v-list-item-title>\n              </v-list-item-content>\n            </v-layout>\n            <v-layout wrap class=\"ml-4\">\n              <v-list-item-icon>\n                <v-icon>mdi-phone</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title\n                  v-text=\"company.phonenumber\"\n                ></v-list-item-title>\n              </v-list-item-content>\n            </v-layout>\n            <v-layout wrap class=\"ml-4\">\n              <v-list-item-icon>\n                <v-icon>language</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <a href=\"#\" @click=\"moveUrl(company.url)\">{{ company.url }}</a>\n              </v-list-item-content>\n            </v-layout>\n          </v-list>\n          <v-list>\n            <div\n              v-if=\"this.ratingUser[0].answer == 'yes'\"\n              class=\"mx-auto text-left p-3\"\n            >\n              <div class=\"headline\">説明会に行った人向け<br /></div>\n              <div class=\"p-3\">\n                就職後この地方で働けますか?\n                <v-btn small depressed disabled color=\"primary\">はい</v-btn>\n                <v-btn\n                  small\n                  depressed\n                  color=\"error\"\n                  @click=\"\n                    updateVoting(\n                      'no',\n                      company.key,\n                      ratingUser[0].key,\n                      company.select\n                    )\n                  \"\n                  >いいえ</v-btn\n                >\n              </div>\n            </div>\n            <div\n              v-else-if=\"this.ratingUser[0].answer == 'no'\"\n              class=\"mx-auto text-left p-3\"\n            >\n              <div class=\"headline\">説明会に行った人向け<br /></div>\n              <div class=\"p-3\">\n                就職後この地方で働けますか?\n                <v-btn\n                  small\n                  depressed\n                  color=\"primary\"\n                  @click=\"\n                    updateVoting(\n                      'yes',\n                      company.key,\n                      ratingUser[0].key,\n                      company.select\n                    )\n                  \"\n                  >はい</v-btn\n                >\n                <v-btn small depressed disabled color=\"error\">いいえ</v-btn>\n              </div>\n            </div>\n            <template v-else>\n              <div class=\"headline\">説明会に行った人向け<br /></div>\n              <div class=\"p-3\">\n                就職後この地方で働けますか?\n                <v-btn\n                  small\n                  depressed\n                  color=\"primary\"\n                  @click=\"voting('yes', company.key, company.select)\"\n                  >はい</v-btn\n                >\n                <v-btn\n                  small\n                  depressed\n                  color=\"error\"\n                  @click=\"voting('no', company.key, company.select)\"\n                  >いいえ</v-btn\n                >\n              </div>\n            </template>\n            <div class=\"headline ml-4\">みんなの意見<br /></div>\n            <div class=\"p-3 ml-4\">\n              {{ this.manyAnswer[0].text }}(はい:{{\n                this.manyAnswer[0].yes\n              }},いいえ:{{ this.manyAnswer[0].no }})\n            </div>\n          </v-list>\n        </v-container>\n        <v-container>\n          <v-card class=\"p-3 text-left bg-lighten-4-blue\">\n            <h2>レビュー</h2>\n            <!--Firebase から取得したリストを描画（トランジション付き）-->\n            <v-window class=\"elevation-1\" :vertical=\"false\" :show-arrows=\"true\">\n              <v-window-item\n                v-for=\"{\n                  key,\n                  name,\n                  image,\n                  message,\n                  companykey,\n                  ratings,\n                  submitDay\n                } in reverseChats\"\n                :key=\"key\"\n              >\n                <v-card flat>\n                  <v-card-text>\n                    <v-row class=\"m-4\" align=\"end\">\n                      <!-- <v-avatar color=\"grey\" class=\"mr-4\"></v-avatar> -->\n                      <strong class=\"title ml-5\">{{ name }}</strong>\n                      <v-spacer>(投稿日:{{ submitDay }})</v-spacer>\n                      <v-btn icon class=\"mr-5\">\n                        <span v-for=\"key in ratings\">\n                          <v-icon small color=\"yellow\">star</v-icon>\n                        </span>\n                      </v-btn>\n                    </v-row>\n\n                    <v-row class=\"m-4\">\n                      <p class=\"ml-5\">\n                        {{ message }}\n                      </p>\n                    </v-row>\n                  </v-card-text>\n                </v-card>\n              </v-window-item>\n            </v-window>\n          </v-card>\n        </v-container>\n        <v-container>\n          <v-card>\n            <v-toolbar flat color=\"blue-grey\" dark>\n              <v-toolbar-title>Submit a post</v-toolbar-title>\n            </v-toolbar>\n            <v-card-text>\n              <v-textarea\n                filled\n                label=\"Text\"\n                placeholder=\"コメントを残す\"\n                v-model=\"input\"\n              ></v-textarea>\n              <v-rating v-model=\"rating\" color=\"yellow\"></v-rating>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"success\" depressed @click=\"doSend(company.key)\">\n                Post\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-container>\n      </template>\n    </div>\n  </v-app>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport firebase from \"firebase\";\nimport Nl2br from \"vue-nl2br\";\nimport { VueLoading } from \"vue-loading-template\";\nexport default {\n  components: { Nl2br, VueLoading },\n  data() {\n    return {\n      user: {}, // ユーザー情報\n      chat: [], // 取得したメッセージを入れる配列\n      ratingUser: [\n        {\n          key: \"\",\n          answer: \"\",\n          name: \"\"\n        }\n      ],\n      ratings: [],\n      loading: true,\n      input: \"\", // 入力したメッセージ\n      rating: 3,\n      answer: \"\",\n      companyData: [],\n      oneCompany: [],\n      companykey: this.$store.state.company.key\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      this.user = user ? user : {};\n      this.chat = [];\n      this.ratings = [];\n      const ref_message = firebase\n        .database()\n        .ref(\"comment/\" + this.$store.state.company.key);\n      const ref_ratings_user = firebase\n        .database()\n        .ref(\"ratings/\" + this.$store.state.company.key + \"/\" + this.user.uid);\n      const ref_rating_company = firebase\n        .database()\n        .ref(this.$store.state.company.select);\n      ref_message.limitToLast(100).on(\"child_added\", this.childAdded);\n      ref_ratings_user\n        .limitToLast(100)\n        .on(\"child_added\", this.childRatingUserAdded);\n      ref_rating_company\n        .limitToLast(100)\n        .on(\"child_added\", this.childCompanyAdded);\n    });\n  },\n  mounted() {\n    setTimeout(() => {\n      this.loading = false;\n    }, 1000);\n  },\n  computed: {\n    ...mapState({\n      company: \"company\"\n    }),\n    reverseChats() {\n      return this.chat.slice().reverse();\n    },\n    averageRate: function() {\n      var sum = 0;\n      if (this.chat.length <= 0) {\n        return 3;\n      }\n      this.chat.forEach(function(value) {\n        sum = sum + value.ratings;\n      });\n      return Math.round(sum / this.chat.length);\n    },\n    manyAnswer: function() {\n      var companykey = this.companykey;\n      var voteitems = [{ yes: 0, no: 0, text: \"\", rateKey: \"\" }];\n      if (this.companyData == null) {\n        return 0;\n      } else {\n        this.companyData.forEach(function(value) {\n          if (value.yes == null) {\n          } else if (companykey == value.key) {\n            voteitems[0].yes = value.yes;\n            voteitems[0].no = value.no;\n            voteitems[0].rateKey = value.key;\n          }\n        });\n        if (voteitems[0].yes == 0 && voteitems[0].no == 0) {\n          voteitems[0].text = \"まだ投票されていません\";\n          return voteitems;\n        }\n        if (voteitems[0].yes > voteitems[0].no) {\n          voteitems[0].text = \"この地方で働ける可能性が高いです\";\n          return voteitems;\n        }\n        voteitems[0].text = \"この地方では働けない可能性が高いです\";\n        return voteitems;\n      }\n    },\n    today: function() {\n      var today = new Date();\n      return (\n        today.getFullYear() +\n        \"-\" +\n        (today.getMonth() + 1) +\n        \"-\" +\n        today.getDate()\n      );\n    }\n  },\n  methods: {\n    childAdded(snap) {\n      const message = snap.val();\n      this.chat.push({\n        key: snap.key,\n        name: message.name,\n        image: message.image,\n        message: message.message,\n        companykey: message.companykey,\n        ratings: message.ratings,\n        submitDay: message.submitDay\n      });\n    },\n    childRatingUserAdded(snap) {\n      const rates = snap.val();\n      this.ratingUser = [\n        {\n          key: snap.key,\n          answer: rates.answer,\n          name: rates.name\n        }\n      ];\n    },\n    childCompanyAdded(snap) {\n      const company = snap.val();\n      this.companyData.push({\n        key: snap.key,\n        yes: company.yes,\n        no: company.no\n      });\n    },\n    doSend(sendkey) {\n      if (this.user.uid && this.input.length) {\n        // firebase にメッセージを追加\n        firebase\n          .database()\n          .ref(\"comment/\" + sendkey)\n          .push(\n            {\n              message: this.input,\n              name: this.user.displayName,\n              image: this.user.photoURL,\n              companykey: sendkey,\n              ratings: this.rating,\n              user: this.user.uid,\n              submitDay: this.today\n            },\n            () => {\n              this.input = \"\"; // フォームを空にする\n            }\n          );\n      }\n    },\n    voting(str, sendkey, select) {\n      this.answer = str;\n      firebase\n        .database()\n        .ref(\"ratings/\" + sendkey + \"/\" + this.user.uid)\n        .push({\n          answer: this.answer,\n          name: this.user.displayName\n        });\n      if (str == \"yes\") {\n        firebase\n          .database()\n          .ref(select)\n          .child(sendkey)\n          .update({\n            yes: this.manyAnswer[0].yes + 1\n          });\n      } else {\n        firebase\n          .database()\n          .ref(select)\n          .child(sendkey)\n          .update({\n            no: this.manyAnswer[0].no + 1\n          });\n      }\n      const ref_rating_company = firebase.database().ref(select);\n      ref_rating_company\n        .limitToLast(100)\n        .on(\"child_added\", this.childCompanyAdded);\n      this.ratingUser[0].answer = str;\n    },\n    updateVoting(str, companykey, key, select) {\n      firebase\n        .database()\n        .ref(\"ratings/\" + companykey + \"/\" + this.user.uid)\n        .child(key)\n        .update({\n          answer: str\n        });\n      if (str == \"yes\") {\n        firebase\n          .database()\n          .ref(select)\n          .child(this.manyAnswer[0].rateKey)\n          .update({\n            yes: this.manyAnswer[0].yes + 1,\n            no: this.manyAnswer[0].no - 1\n          });\n      } else {\n        firebase\n          .database()\n          .ref(select)\n          .child(this.manyAnswer[0].rateKey)\n          .update({\n            yes: this.manyAnswer[0].yes - 1,\n            no: this.manyAnswer[0].no + 1\n          });\n      }\n      const ref_rating_company = firebase.database().ref(select);\n      ref_rating_company\n        .limitToLast(100)\n        .on(\"child_added\", this.childCompanyAdded);\n      this.ratingUser[0].answer = str;\n    },\n    moveUrl(url) {\n      document.location.href = url;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.bg-lighten-4-blue {\n  background-color: #bbdefb;\n}\n</style>\n"],"sourceRoot":"src/views"}]}